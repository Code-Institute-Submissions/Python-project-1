{% extends 'base.html' %} {% block content %}

    <div id="booking" class="section-form">
		<div class="section-center-form">
			<div class="container">
				<div class="row">
					<div class="booking-form">
						<form action="{{ url_for('book_appointment') }}" method="POST">
							<div class="form-header">
								<h2>Book Your Appointment</h2>
							</div>
							<div class="form-group">
								<input class="form-control" id="name" name="name" type="text" placeholder="Name">
								<span class="form-label">Name</span>
							</div>
							<div class="form-group">
								<input class="form-control" id="phone_number" name="phone_number" type="tel" placeholder="Phone number">
								<span class="form-label" >Phone</span>
							</div>
							<div class="form-group">
								<input class="form-control" id="appt_location" name="appt_location" type="postcode" placeholder="Address for the Appointment">
								<span class="form-label" >Location</span>
							</div>
                            <div class="form-group">
								<select id="service" name="service_name">
                                    <option value="" disabled selected>Choose Service</option>
                                    {% for service in services %}
                                        <option value="{{service.service_name}}">{{service.service_name}}</option>
                                    {% endfor %}
                                </select>
								<span class="select-arrow"></span>
								<span class="form-label">Select Service</span>
							</div>
							<div class="row">
								<div class="row">
                                    <div class="input-field col s12">
                                        <i class="material-icons prefix">today</i>
                                        <input id="appt_date" name="appt_date" type="text" class="datepicker">
                                        <label for="icon_prefix">Appointment Date</label>
                                    </div>
                                </div>
								<div class="col-md-6">
									<div class="form-group">
										<input class="form-control" type="time" id="appt_time" name="appt_time" required>
										<span class="form-label">Appointment Time</span>
									</div>
								</div>
							</div>
							<div class="form-btn">
								<button class="submit-btn">Book Now</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>

	

{% endblock %}

{% block custom_js %}
    <script>
		$('.form-control').each(function () {
			floatedLabel($(this));
		});

		$('.form-control').on('input', function () {
			floatedLabel($(this));
        });
        
        $('.datepicker').pickadate({
            selectMonths: true, 
            selectYears: 15,
            today: 'Today',
            clear: 'Clear',
            close: 'Ok',
            closeOnSelect: false
        });

		function floatedLabel(input) {
			var $field = input.closest('.form-group');
			if (input.val()) {
				$field.addClass('input-not-empty');
			} else {
				$field.removeClass('input-not-empty');
			}
        }
        
	</script>

{% endblock %} 